(()=>{"use strict";var e={208:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(601),r=n.n(o),s=n(314),c=n.n(s)()(r());c.push([e.id,":root {\n    --bg-color: #f5f5f5;\n    --button-color: #ffffff;\n    --button-hover-color: #f0f0f0;\n    --button-text-color: #000000;\n    --display-bg-color: #222222;\n    --display-text-color: #ffffff;\n    --modal-bg-color: #f5f5f5;\n    --modal-text-color: #000000;\n    --modal-button-color: #ffffff;\n    --modal-button-hover-color: #f0f0f0;\n    --modal-button-text-color: #000000;\n    --input-bg-color: #ffffff;\n    --input-text-color: #000000;\n    --select-bg-color: #ffffff;\n    --select-text-color: #000000;\n}\n\nbody {\n    font-family: Arial, sans-serif;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n    background-color: var(--bg-color);\n}\n\n#calculator {\n    width: 400px;\n    background: white;\n    border-radius: 10px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n    overflow: hidden;\n}\n\n.display {\n    text-align: right;\n    font-size: 2.5em;\n    padding: 10px;\n    background-color: var(--display-bg-color);\n    color: var(--display-text-color);\n    white-space: nowrap;\n    overflow-x: auto;\n}\n\n.display::-webkit-scrollbar {\n    height: 8px;\n}\n\n.display::-webkit-scrollbar-thumb {\n    background-color: #888;\n    border-radius: 4px;\n}\n\n.display::-webkit-scrollbar-thumb:hover {\n    background-color: #555;\n}\n\n.display::-webkit-scrollbar-track {\n    background-color: #f1f1f1;\n    border-radius: 4px;\n}\n\nbutton {\n    font-size: 1.5em;\n    padding: 20px;\n    border: none;\n    background-color: var(--button-color);\n    color: var(--button-text-color);\n    cursor: pointer;\n}\n\n.buttons {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 1px;\n    background: #ccc;\n}\n\nbutton:hover {\n    background-color: var(--button-hover-color);\n}\n\n.modal {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.5);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n}\n\n.modal.hidden {\n    display: none;\n}\n\n.modal-content {\n    background: var(--modal-bg-color);\n    color: var(--modal-button-text-color);\n    padding: 20px;\n    border-radius: 10px;\n    width: 300px;\n    text-align: center;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n}\n\nbutton#close-settings {\n    margin-top: 10px;\n    padding: 10px;\n    background: var(--modal-bg-color);\n    color: var(--modal-button-text-color);\n}\n\nbutton#close-settings:hover {\n    background: var(--modal-button-hover-color);\n}\n\nlabel {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    font-size: 1em;\n}\n\ninput, select {\n    margin-top: 5px;\n    border: 1px solid var(--modal-button-color);\n    background-color: var(--input-bg-color);\n    color: var(--input-text-color);\n    border-radius: 5px;\n}\n\nselect {\n    background-color: var(--select-bg-color);\n    color: var(--select-text-color);\n}\n\ninput[type=number]{\n    background-color: var(--modal-bg-color);\n   text-align: center;\n    width: 40px;\n}\n",""]);const a=c},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(c[i]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);o&&c[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var s={},c=[],a=0;a<e.length;a++){var i=e[a],l=o.base?i[0]+o.base:i[0],d=s[l]||0,u="".concat(l," ").concat(d);s[l]=d+1;var f=n(u),p={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=r(p,o);o.byIndex=a,t.splice(a,0,{identifier:u,updater:h,references:1})}c.push(u)}return c}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var s=o(e=e||[],r=r||{});return function(e){e=e||[];for(var c=0;c<s.length;c++){var a=n(s[c]);t[a].references--}for(var i=o(e,r),l=0;l<s.length;l++){var d=n(s[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=i}}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={id:o,exports:{}};return e[o](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var o=n(72),r=n.n(o),s=n(825),c=n.n(s),a=n(659),i=n.n(a),l=n(56),d=n.n(l),u=n(540),f=n.n(u),p=n(113),h=n.n(p),m=n(208),b={};b.styleTagTransform=h(),b.setAttributes=d(),b.insert=i().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=f(),r()(m.A,b),m.A&&m.A.locals&&m.A.locals;const x=new class{constructor(){this.currentExpression="0",this.decimalPlaces=3,this.useExponential=!1}setSettings({decimalPlaces:e,useExponential:t}){this.decimalPlaces=e,this.useExponential=t}append(e){const t=/\d+(\.\d*)?$/,n=this.currentExpression.slice(-1),o=this.currentExpression.slice(-2,-1);if(!this.currentExpression.includes("e"))if(("0"!==this.currentExpression||[".","+","×","÷"].includes(e))&&("-0"!==this.currentExpression||[".","+","×","÷"].includes(e))||(this.currentExpression=""),""!==this.currentExpression){if(("-"!==this.currentExpression||"-"!==e)&&("%"!==n||["+","-","×","÷"].includes(e))){if("."===e){if(isNaN(n))return void(this.currentExpression=this.currentExpression.slice(0,-1));const e=this.currentExpression.match(t);if(e&&e[0].includes("."))return}if(["+","-","×","÷"].includes(n))if("-"===e){if(["-","×","÷","+"].includes(o))return;this.currentExpression+=e}else{if(["+","×","÷"].includes(e))return;this.currentExpression+=e}else this.currentExpression+=e}}else"-"===e?this.currentExpression+=e:isNaN(e)||(this.currentExpression+=e)}clear(){this.currentExpression="0"}deleteLastChar(){this.currentExpression=this.currentExpression.slice(0,-1),""===this.currentExpression&&(this.currentExpression="0")}customAbs(e){return e<0?-e:e}toExponentialFormat(e){if(0===e)return"0";const t=e<0;let n=0,o=this.customAbs(e);for(;o>=10;)o/=10,n++;for(;o<1&&o>0;)o*=10,n--;o=this.round(o);let r=o.toString();if(r.includes(".")){const e=r.indexOf(".");r=r.slice(0,e+this.decimalPlaces+1),r=r.replace(/\.?0+$/,"")}return r.endsWith(".")&&(r=r.slice(0,-1)),r+="e"+(n>=0?"+":"")+n,t&&(r="-"+r),r}round(e){let[t,n]=e.toString().split(".");return n?(n=n.slice(0,this.decimalPlaces),parseFloat(`${t}.${n}`)):e}calculate(){try{const e=this.tokenize(this.currentExpression);let t=this.evaluate(e);this.useExponential&&(t>=1e10||t<=-1e10||0!==t&&t<1e-10&&t>-1e-10)?(t=this.toExponentialFormat(t),t=t.replace(/(\.\d*?)0+(?=e)/,"$10").replace(/(\.\d+?)e/,"$1e")):t=this.round(t),this.currentExpression=t.toString().replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"")}catch{this.currentExpression="Error"}}tokenize(e){for(;;){const t=/(-?\d+(\.\d*)?)%\s*([+\-×÷])\s*(-?\d+(\.\d*)?)%/.exec(e);if(!t)break;const n=parseFloat(t[1]),o=t[3];let r;const s=n/100,c=parseFloat(t[4])/100;switch(o){case"×":r=s*c;break;case"÷":r=s/c;break;case"+":r=s+c*s;break;case"-":r=s-c*s;break;default:throw new Error("Error")}e=e.replace(t[0],r)}for(;;){const t=/(-?\d+(\.\d*)?)\s*([+\-×÷])\s*(-?\d+(\.\d*)?)%/.exec(e);if(!t)break;const n=parseFloat(t[1]),o=t[3],r=parseFloat(t[4]);let s;if(o)switch(o){case"×":s=n*(r/100);break;case"÷":s=n/(r/100);break;case"+":s=n+n*(r/100);break;case"-":s=n-n*(r/100);break;default:throw new Error("Error")}else s=r/100;e=e.replace(t[0],s)}for(;;){const t=/(-?\d+(\.\d*)?)%\s*([+\-×÷])\s*(-?\d+(\.\d*)?)/.exec(e);if(!t)break;const n=parseFloat(t[1]),o=t[3],r=parseFloat(t[4]);let s;switch(o){case"×":s=n/100*r;break;case"÷":s=n/100/r;break;case"+":s=n/100+r;break;case"-":s=n/100-r;break;default:throw new Error(`Unexpected operator: ${o}`)}e=e.replace(t[0],s)}const t=[];let n="",o=!0;for(let r of e)isNaN(r)&&"."!==r?"-"===r&&o?n+=r:(n&&(t.push(parseFloat(n)),n=""),["+","-","×","÷"].includes(r)&&t.push(r),o="-"===r||["+","-","×","÷"].includes(r)):(n+=r,o=!1);return n&&t.push(parseFloat(n)),t.length&&["+","-","×","÷"].includes(t[t.length-1])&&t.pop(),t}evaluate(e){const t=[];for(let n=0;n<e.length;n++)if("×"===e[n]||"÷"===e[n]){const o=t.pop(),r=e[++n],s="×"===e[n-1]?o*r:0===r?(()=>{throw new Error("Деление на ноль")})():o/r;t.push(s)}else t.push(e[n]);let n=t[0];for(let e=1;e<t.length;e+=2){const o=t[e],r=t[e+1];n="+"===o?n+r:n-r}return n}percent(){if(this.currentExpression.includes("e"))return;const e=this.currentExpression.match(/\d+(\.\d*)?%?$/);e&&(e[0].includes("%")?this.currentExpression=this.currentExpression.replace(/%$/,""):this.currentExpression+="%")}toggleSign(){if(this.currentExpression.includes("e"))return;const e=/[^0-9.%]/,t=this.currentExpression.match(/(\d+(\.\d*)?%?)$/);if(t){const n=t[0],o=this.currentExpression.lastIndexOf(n),r=this.currentExpression[o-1]||"",s=this.currentExpression[o-2]||"";if(""===r)return void(this.currentExpression=this.currentExpression.slice(0,o)+`-${n}`);if(""===s)return void(this.currentExpression=this.currentExpression.slice(0,o-1)+this.currentExpression.slice(o));e.test(r)&&e.test(s)?this.currentExpression=this.currentExpression.slice(0,o-1)+this.currentExpression.slice(o):(e.test(r),this.currentExpression=this.currentExpression.slice(0,o)+`-${n}`)}}},g=document.querySelector(".display"),v=document.getElementById("decimal-places"),E=document.getElementById("use-exponential"),y=()=>{const e=parseInt(v.value,10),t=E.checked;x.setSettings({decimalPlaces:e,useExponential:t})};v.addEventListener("input",y),E.addEventListener("change",y),y();const k=()=>{g.textContent=x.currentExpression},w={"bg-color":"--bg-color","button-color":"--button-color","button-hover-color":"--button-hover-color","button-text-color":"--button-text-color","display-bg-color":"--display-bg-color","display-text-color":"--display-text-color"},I=()=>{const e=document.getElementById("theme").value;document.body.classList.remove("white-theme","dark-theme"),"white"===e?(document.body.classList.add("white-theme"),S({"--bg-color":"#f5f5f5","--button-color":"#ffffff","--button-hover-color":"#f0f0f0","--button-text-color":"#000000","--display-bg-color":"#222222","--display-text-color":"#ffffff","--modal-bg-color":"#f5f5f5","--modal-text-color":"#000000","--modal-button-color":"#ffffff","--modal-button-hover-color":"#f0f0f0","--modal-button-text-color":"#000000","--input-bg-color":"#ffffff","--input-text-color":"#000000","--select-bg-color":"#ffffff","--select-text-color":"#000000"})):"dark"===e&&(document.body.classList.add("dark-theme"),S({"--bg-color":"#333333","--button-color":"#444444","--button-hover-color":"#555555","--button-text-color":"#ffffff","--display-bg-color":"#000000","--display-text-color":"#ffffff","--modal-bg-color":"#333333","--modal-text-color":"#f5f5f5","--modal-button-color":"#333333","--modal-button-hover-color":"#555555","--modal-button-text-color":"#ffffff","--input-bg-color":"#444444","--input-text-color":"#ffffff","--select-bg-color":"#444444","--select-text-color":"#ffffff"}))},S=e=>{Object.keys(e).forEach((t=>{document.documentElement.style.setProperty(t,e[t])})),Object.keys(w).forEach((t=>{document.getElementById(t).value=e[w[t]]}))},L=()=>{Object.keys(w).forEach((e=>{const t=document.getElementById(e),n=w[e];document.documentElement.style.setProperty(n,t.value)}))};window.addEventListener("load",(()=>{I(),L()})),document.getElementById("theme").addEventListener("change",I),Object.keys(w).forEach((e=>{document.getElementById(e).addEventListener("input",L)})),document.querySelectorAll("button").forEach((e=>{let t;e.addEventListener("mousedown",(e=>{"C"===e.target.textContent&&(t=setTimeout((()=>{x.clear(),k()}),300))})),e.addEventListener("mouseup",(e=>{const n=e.target.textContent;"C"===n?(clearTimeout(t),x.deleteLastChar(),k()):!isNaN(n)||["+","-","×","÷","."].includes(n)?(x.append(n),k()):"AC"===n?(x.clear(),k()):"+/-"===n?(x.toggleSign(),k()):"%"===n?(x.percent(),k()):"="===n&&(x.calculate(),k())}))}));const C=document.getElementById("settings-modal"),O=document.querySelector("button:first-child"),N=document.getElementById("close-settings");O.addEventListener("click",(()=>{C.classList.remove("hidden")})),N.addEventListener("click",(()=>{C.classList.add("hidden")})),k();const A=()=>{const e=parseInt(v.value,10),t=E.checked;localStorage.setItem("calculatorSettings",JSON.stringify({decimalPlaces:e,useExponential:t}));const n=document.getElementById("theme").value;localStorage.setItem("calculatorTheme",n);const o={};Object.keys(w).forEach((e=>{const t=document.getElementById(e);o[e]=t.value})),localStorage.setItem("calculatorColors",JSON.stringify(o))};v.addEventListener("input",A),E.addEventListener("change",A),document.getElementById("theme").addEventListener("change",A),Object.keys(w).forEach((e=>{document.getElementById(e).addEventListener("input",A)})),window.addEventListener("load",(()=>{(()=>{const e=JSON.parse(localStorage.getItem("calculatorSettings"));e&&(v.value=e.decimalPlaces,E.checked=e.useExponential,x.setSettings(e));const t=localStorage.getItem("calculatorTheme");t&&(document.getElementById("theme").value=t,I());const n=JSON.parse(localStorage.getItem("calculatorColors"));n&&(Object.keys(n).forEach((e=>{document.getElementById(e).value=n[e]})),L())})(),k()}))})();